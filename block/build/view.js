document.querySelectorAll(".hm-toc, .hm-table-of-contents").forEach((e=>{const t=e.querySelectorAll("a"),n=[...t].map((e=>new URL(e.href).hash)),o=[...document.querySelectorAll(n.join(","))].reverse(),r=o.map((e=>e.getBoundingClientRect().top));let l=1/0;window.addEventListener("scroll",(()=>{requestAnimationFrame((()=>{const n=document.documentElement.scrollTop,c=window.innerHeight;let a=1/0;for(let e of r)if(e<=n+c/2){a=e;break}if(a===l)return;l=a;const i=o[r.indexOf(l)].getAttribute("id"),s=e.querySelector(`a[href="#${i}"]`);s&&(t.forEach((e=>e.parentElement.classList.remove("active"))),s.parentElement.classList.add("active"))}))}),{passive:!0})}));